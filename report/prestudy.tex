\section{Matematikken bak trackingen (Vegar)}

	

\section{Tilkobling av kamera til PC}

	For å koble et kamera til en PC og lese dens videobilder trenger man både maskinvare og programvare. Maskinvaren gir den fysiske tilkoblingen mellom kameraet og PC-en samt gjør lavnivås logikk og behandling av dataene. Programvaren abstraherer bort maskinvaren og gir utviklere et brukbart grensesnitt for å lese og bruke videobildene. Av maskinvare har vi i prosjektet tenkt å bruke HDMI og et Intensity-kort for å koble kameraet til PC-en som kjører systemet vårt. Av programvare har vi tenkt å bruke DirectShow for å få lett tilgang til videobildene fra kameraet.
	
\section{HDMI og Intensity}

	HDMI er en standard for et fysisk grensesnitt for å sende og motta digital lyd og bilde. Apparater med HDMI-kontakt kan kobles til hverandre ved hjelp av en HDMI-kabel (se figur \ref{fig:hdmi}). HDMI er designet for å håndtere lyd og bilde med høy oppløsning, og kan sende opptil 10,2 gigabit per sekund.
	
	\begin{figure}[h]
	\centering
	\includegraphics[width=0.60\textwidth]{graphics/hdmi.png}
	\caption{HDMI-kontakt (venstre) og kabel (høyre)}
	\label{fig:hdmi}
	\end{figure}
	
	Intensity er et HDMI capture card fra Blackmagic Design. Det er et stykke maskinvare som kan settes inn i en PC for å gjøre det mulig å koble enheter til denne PC-en gjennom HDMI. Kortet kobles til PCI-express-porten i PC-en og har to HDMI-kontaktpunkter: inngang og utgang (se figur \ref{fig:intensity}).
	
	For å kunne få ut bilde fra HD kameraet trengte vi HDMI input port som overfører data i en så stor hastighet slik at vi slipper å komprimere bildestrømmen. Vi valgte Blackmagic Intesity card som gir den beste og siste teknologien innen HDMI til Windows eller Mac OS. Intesity kortet har en HDMI inngang for HD kameraer som gir den høyeste kvalitet på bilde. HDMI kan lese ukomprimert bildestrøm direkte fra kameraet. Bildestrømmen er i 1080i (interlaced) det vil si at bilde har en oppløsning på 1920 x 1080 piksler. 1080 linjer i vertikal retning og 1920 linjer i horisontal retning. Interlaced betyr at kameraet tar opp bilder med et alternerende sett med linjer slik at oddetallslinjene og partallslinjene oppdateres annenhver gang. Det vil si at det trengs to oppdateringer for å skape et fullstendig bilde, man øker bildekvaliteten av et videosignal uten å øke båndbredden. Når bildet skal vises på skjerm utføres det en deinterlacing som er en teknikk for å konvertere interlaced bildestrøm til progressive bildestrøm. Hvis det er 1080p (progressive) trenger bildestrømmen kun å oppdateres en gang for å få et fullstendig bilde, at alle linjene vertikalt blir skannet ved en oppdatering. 
	 
	\begin{figure}[h]
	\centering
	\includegraphics[width=0.60\textwidth]{graphics/intensity.png}
	\caption{Intensity fra Blackmagic Design}
	\label{fig:intensity}
	\end{figure}

\section{DirectShow}

	DirectShow er et rammeverk og programvaregrensesnitt for å håndtere multimedia på PC-er. Det er utviklet av Microsoft og gjør det mulig å spille av og ta opp media (typisk lyd og/eller bilde) gjennom et felles grensesnitt, og abstraherer bort maskinvaren. Bildene fra videokamera koblet til et Intensity-kort er tilgjengelig gjennom DirectShow. DirectShow er tilgjengelig gratis fra Microsofts nettsider.
	
\section{Infrarødt lys}

	Infrarød lys er elekektromagnetisk stråling av bølgelengder lengre enn bølgelengdene til synlig lys. Det synlige lyset har bølgelengder mindre enn 750nm. Ordet infra kommer fra latinsk og betyr under, og rød er den fargen innenfor det synlige spekteret som har den lengste bølgelengden. Det infrarøde lyset som ligger nærmest det synlige lys har mye av de samme egnskapene som det synlige lyset bortsett fra at det er usynlig for det mennesklige øyet. Infrarødtlys er derfor mye brukt til blant annet overvåkning og nattkamera, i tillegg til signaler i elektriske kontroller. Infrarød stråling med lengre bølgelengder er mer knyttet til varmeproduksjon og varmesensitive kameraer som er mye brukt i romfartsindustri og våpenindustri. Se figur \ref{fig:irled} for et eksempel på en LED som sender infrarødt lys.
	
	\begin{figure}[h]
	\centering
	\includegraphics[width=0.33\textwidth]{graphics/irled.png}
	\caption{Infrarød LED}
	\label{fig:irled}
	\end{figure}

	I dette prosjektet er det en fordel å bruke infrarødt lys fordi et lyspunkt som er synlig for det mennesklige øyet kan være forstyrrende for brukeren og det kan blande seg med andre lyskilder i omgivelsene rundt som vil gjøre det vanskligere finne punktene vi ønsker under prosesseringsarbeidet. 
	
\section{Nintendo Wii og Wiimotes}

	Nintendo Wii er en spillkonsoll som ble lansert i 2006. I stedet for realistisk grafikk fokuserer den på alternative former for styring av spill. Wiimote er navnet på kontrolleren som brukes for Wii. Se figur \ref{fig:wiimote}. Det er en trådløs kontroller med infrarødt kamera og akselerasjonsmeter. Innebygd er det maskinvare som kalkulerer bildekoordinater til filmede infrarøde lys og sender disse via et trådløst nettverk (Bluetooth).
	
	\begin{figure}[h]
	\centering
	\includegraphics[width=0.9\textwidth]{graphics/wiimote.png}
	\caption{Nintendo Wiimote}
	\label{fig:wiimote}
	\end{figure}

\section{Bruksområder}

	Spill er et typisk bruksområde for headtracking. Eksempler er bilspill hvor en kan kikke deg rundt i kabinen, flysimulatorer hvor en må flytte på hodet for å se hele cockpiten, og slossspill der en beveger hodet til karakteren en spiller. En annen anvendelse er å styre karakteren sin i Second Life som er en virtuell virkelighet som kan brukes til konferanser og møter.
	
	Visualisering av store datamengder som en grafisk fremstilling av et reservoar kan ta i bruk head tracking for å navigere seg rundt i reservoaret for å få et mer riktig bilde av dimensjoner og oppbygning. For å oppnå dette kan headtracking-prorgramvare integreres med cavelib, som er et grensesnitt for visualisering som brukes mye av petroleums-programvare.
	
	Andre eksempler på bruk er styre systemer, som å tegne med hodet. Og navigere i kart, når skjermen er for liten til å vise all informasjonen kan head tracking brukes til å tracke vinkelen inn på skjermen for å kunne presentere forskjellige deler av kartet. Dette kan sammenlignes med å se gjennom en rute ned på et stort virtuelt kart, slik at forskjellige deler av kartet kommer til syne ved forskjellig synsvinkel.	